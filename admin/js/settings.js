!function(t){var c={};function l(e){if(c[e])return c[e].exports;var n=c[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=t,l.c=c,l.d=function(t,c,e){l.o(t,c)||Object.defineProperty(t,c,{enumerable:!0,get:e})},l.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,c){if(1&c&&(t=l(t)),8&c)return t;if(4&c&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(l.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&c&&"string"!=typeof t)for(var n in t)l.d(e,n,function(c){return t[c]}.bind(null,n));return e},l.n=function(t){var c=t&&t.__esModule?function(){return t.default}:function(){return t};return l.d(c,"a",c),c},l.o=function(t,c){return Object.prototype.hasOwnProperty.call(t,c)},l.p="",l(l.s=11)}({11:function(module,exports){eval("(function () {\r\n\t'use strict';\r\n\r\n\tlet usersList = document.getElementById('calendarp-users');\r\n\tlet allowUserButton = document.getElementById('allow-user-add');\r\n\tlet allowUserSelector = document.getElementById('allow-user');\r\n\r\n\t/**\r\n\t * Make an AJAX call\r\n\t */\r\n\tfunction call(action, data) {\r\n\t\tdata.action = action;\r\n\t\tdata.nonce = calendarpSettings.nonce;\r\n\t\treturn jQuery.post(ajaxurl, data);\r\n\t}\r\n\r\n\t/**\r\n\t * Remove a user row\r\n\t */\r\n\tfunction removeUserRowElement(id) {\r\n\t\tif (confirm('Are you sure?')) {\r\n\t\t\tlet element = document.getElementById('calendarp-' + id);\r\n\t\t\tif (element) {\r\n\t\t\t\telement.parentNode.removeChild(element);\r\n\t\t\t\tcall('calendarp_remove_user', {id: id});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Create a new user row\r\n\t */\r\n\tfunction addUserRowElement(user) {\r\n\t\tlet listNode, linkNode, removeNode, spanNode;\r\n\r\n\t\t// Create the list item\r\n\t\tlistNode = document.createElement('li');\r\n\t\tlistNode.id = 'calendarp-' + user.id;\r\n\r\n\t\tif (user.link) {\r\n\t\t\t// User has edit link\r\n\t\t\tlinkNode = document.createElement('a');\r\n\t\t\tlinkNode.href = user.link;\r\n\t\t\tlinkNode.innerHTML = user.name;\r\n\t\t\tlinkNode.title = user.linkTitle;\r\n\t\t\tlistNode.appendChild(linkNode);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tspanNode = document.createElement('span');\r\n\t\t\tspanNode.innerHTML = user.name;\r\n\t\t\tlistNode.appendChild(spanNode);\r\n\t\t}\r\n\r\n\t\tif (user.removable) {\r\n\t\t\t// The remove link. Only for users that are not the current one\r\n\t\t\tremoveNode = document.createElement('a');\r\n\t\t\tremoveNode.setAttribute('data-id', user.id);\r\n\t\t\tremoveNode.href = '#';\r\n\t\t\tremoveNode.className = 'dashicons-no-alt dashicons';\r\n\t\t\tremoveNode.title = calendarpSettings.removeTitle;\r\n\t\t\tremoveNode.addEventListener('click', function (e) {\r\n\t\t\t\t// Remove the list item on click\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tremoveUserRowElement(this.getAttribute('data-id'));\r\n\t\t\t});\r\n\t\t\tlistNode.appendChild(removeNode);\r\n\t\t}\r\n\r\n\r\n\t\tusersList.appendChild(listNode);\r\n\t}\r\n\r\n\tcalendarpSettings.usersList.forEach(addUserRowElement);\r\n\r\n\tif (allowUserSelector) {\r\n\t\t// Toggle allow button when the select changes\r\n\t\tallowUserSelector.addEventListener('change', function () {\r\n\t\t\tlet className = 'hidden';\r\n\t\t\tif (this.value) {\r\n\t\t\t\tif (allowUserButton.classList)\r\n\t\t\t\t\tallowUserButton.classList.remove(className);\r\n\t\t\t\telse\r\n\t\t\t\t\tallowUserButton.className = el.className.replace(new RegExp('(^|\\\\b)' + className.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ');\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tif (allowUserButton.classList) {\r\n\t\t\t\t\tallowUserButton.classList.add(className);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tallowUserButton.className += ' ' + className;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// Add new user when clicking on Allow button\r\n\t\tallowUserButton.addEventListener('click', function (e) {\r\n\t\t\te.preventDefault();\r\n\t\t\tthis.setAttribute('disabled', 'disabled');\r\n\t\t\tcall('calendarp_add_new_allowed_user', {id: allowUserSelector.value})\r\n\t\t\t\t.always(function (response) {\r\n\t\t\t\t\tif (response.success) {\r\n\t\t\t\t\t\taddUserRowElement(response.data);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tallowUserButton.removeAttribute('disabled');\r\n\t\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n}());\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9fc3JjL2FkbWluL3NldHRpbmdzL3NldHRpbmdzLmpzPzQxZTMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLE9BQU87QUFDMUM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLDRCQUE0QjtBQUN2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDs7QUFFQSxDQUFDIiwiZmlsZSI6IjExLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uICgpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGxldCB1c2Vyc0xpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FsZW5kYXJwLXVzZXJzJyk7XHJcblx0bGV0IGFsbG93VXNlckJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhbGxvdy11c2VyLWFkZCcpO1xyXG5cdGxldCBhbGxvd1VzZXJTZWxlY3RvciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhbGxvdy11c2VyJyk7XHJcblxyXG5cdC8qKlxyXG5cdCAqIE1ha2UgYW4gQUpBWCBjYWxsXHJcblx0ICovXHJcblx0ZnVuY3Rpb24gY2FsbChhY3Rpb24sIGRhdGEpIHtcclxuXHRcdGRhdGEuYWN0aW9uID0gYWN0aW9uO1xyXG5cdFx0ZGF0YS5ub25jZSA9IGNhbGVuZGFycFNldHRpbmdzLm5vbmNlO1xyXG5cdFx0cmV0dXJuIGpRdWVyeS5wb3N0KGFqYXh1cmwsIGRhdGEpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogUmVtb3ZlIGEgdXNlciByb3dcclxuXHQgKi9cclxuXHRmdW5jdGlvbiByZW1vdmVVc2VyUm93RWxlbWVudChpZCkge1xyXG5cdFx0aWYgKGNvbmZpcm0oJ0FyZSB5b3Ugc3VyZT8nKSkge1xyXG5cdFx0XHRsZXQgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYWxlbmRhcnAtJyArIGlkKTtcclxuXHRcdFx0aWYgKGVsZW1lbnQpIHtcclxuXHRcdFx0XHRlbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWxlbWVudCk7XHJcblx0XHRcdFx0Y2FsbCgnY2FsZW5kYXJwX3JlbW92ZV91c2VyJywge2lkOiBpZH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDcmVhdGUgYSBuZXcgdXNlciByb3dcclxuXHQgKi9cclxuXHRmdW5jdGlvbiBhZGRVc2VyUm93RWxlbWVudCh1c2VyKSB7XHJcblx0XHRsZXQgbGlzdE5vZGUsIGxpbmtOb2RlLCByZW1vdmVOb2RlLCBzcGFuTm9kZTtcclxuXHJcblx0XHQvLyBDcmVhdGUgdGhlIGxpc3QgaXRlbVxyXG5cdFx0bGlzdE5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xyXG5cdFx0bGlzdE5vZGUuaWQgPSAnY2FsZW5kYXJwLScgKyB1c2VyLmlkO1xyXG5cclxuXHRcdGlmICh1c2VyLmxpbmspIHtcclxuXHRcdFx0Ly8gVXNlciBoYXMgZWRpdCBsaW5rXHJcblx0XHRcdGxpbmtOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG5cdFx0XHRsaW5rTm9kZS5ocmVmID0gdXNlci5saW5rO1xyXG5cdFx0XHRsaW5rTm9kZS5pbm5lckhUTUwgPSB1c2VyLm5hbWU7XHJcblx0XHRcdGxpbmtOb2RlLnRpdGxlID0gdXNlci5saW5rVGl0bGU7XHJcblx0XHRcdGxpc3ROb2RlLmFwcGVuZENoaWxkKGxpbmtOb2RlKTtcclxuXHRcdH1cclxuXHRcdGVsc2Uge1xyXG5cdFx0XHRzcGFuTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuXHRcdFx0c3Bhbk5vZGUuaW5uZXJIVE1MID0gdXNlci5uYW1lO1xyXG5cdFx0XHRsaXN0Tm9kZS5hcHBlbmRDaGlsZChzcGFuTm9kZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHVzZXIucmVtb3ZhYmxlKSB7XHJcblx0XHRcdC8vIFRoZSByZW1vdmUgbGluay4gT25seSBmb3IgdXNlcnMgdGhhdCBhcmUgbm90IHRoZSBjdXJyZW50IG9uZVxyXG5cdFx0XHRyZW1vdmVOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG5cdFx0XHRyZW1vdmVOb2RlLnNldEF0dHJpYnV0ZSgnZGF0YS1pZCcsIHVzZXIuaWQpO1xyXG5cdFx0XHRyZW1vdmVOb2RlLmhyZWYgPSAnIyc7XHJcblx0XHRcdHJlbW92ZU5vZGUuY2xhc3NOYW1lID0gJ2Rhc2hpY29ucy1uby1hbHQgZGFzaGljb25zJztcclxuXHRcdFx0cmVtb3ZlTm9kZS50aXRsZSA9IGNhbGVuZGFycFNldHRpbmdzLnJlbW92ZVRpdGxlO1xyXG5cdFx0XHRyZW1vdmVOb2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcclxuXHRcdFx0XHQvLyBSZW1vdmUgdGhlIGxpc3QgaXRlbSBvbiBjbGlja1xyXG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRyZW1vdmVVc2VyUm93RWxlbWVudCh0aGlzLmdldEF0dHJpYnV0ZSgnZGF0YS1pZCcpKTtcclxuXHRcdFx0fSk7XHJcblx0XHRcdGxpc3ROb2RlLmFwcGVuZENoaWxkKHJlbW92ZU5vZGUpO1xyXG5cdFx0fVxyXG5cclxuXHJcblx0XHR1c2Vyc0xpc3QuYXBwZW5kQ2hpbGQobGlzdE5vZGUpO1xyXG5cdH1cclxuXHJcblx0Y2FsZW5kYXJwU2V0dGluZ3MudXNlcnNMaXN0LmZvckVhY2goYWRkVXNlclJvd0VsZW1lbnQpO1xyXG5cclxuXHRpZiAoYWxsb3dVc2VyU2VsZWN0b3IpIHtcclxuXHRcdC8vIFRvZ2dsZSBhbGxvdyBidXR0b24gd2hlbiB0aGUgc2VsZWN0IGNoYW5nZXNcclxuXHRcdGFsbG93VXNlclNlbGVjdG9yLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0bGV0IGNsYXNzTmFtZSA9ICdoaWRkZW4nO1xyXG5cdFx0XHRpZiAodGhpcy52YWx1ZSkge1xyXG5cdFx0XHRcdGlmIChhbGxvd1VzZXJCdXR0b24uY2xhc3NMaXN0KVxyXG5cdFx0XHRcdFx0YWxsb3dVc2VyQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NOYW1lKTtcclxuXHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRhbGxvd1VzZXJCdXR0b24uY2xhc3NOYW1lID0gZWwuY2xhc3NOYW1lLnJlcGxhY2UobmV3IFJlZ0V4cCgnKF58XFxcXGIpJyArIGNsYXNzTmFtZS5zcGxpdCgnICcpLmpvaW4oJ3wnKSArICcoXFxcXGJ8JCknLCAnZ2knKSwgJyAnKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRpZiAoYWxsb3dVc2VyQnV0dG9uLmNsYXNzTGlzdCkge1xyXG5cdFx0XHRcdFx0YWxsb3dVc2VyQnV0dG9uLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHRhbGxvd1VzZXJCdXR0b24uY2xhc3NOYW1lICs9ICcgJyArIGNsYXNzTmFtZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIEFkZCBuZXcgdXNlciB3aGVuIGNsaWNraW5nIG9uIEFsbG93IGJ1dHRvblxyXG5cdFx0YWxsb3dVc2VyQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcclxuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHR0aGlzLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcclxuXHRcdFx0Y2FsbCgnY2FsZW5kYXJwX2FkZF9uZXdfYWxsb3dlZF91c2VyJywge2lkOiBhbGxvd1VzZXJTZWxlY3Rvci52YWx1ZX0pXHJcblx0XHRcdFx0LmFsd2F5cyhmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRcdGlmIChyZXNwb25zZS5zdWNjZXNzKSB7XHJcblx0XHRcdFx0XHRcdGFkZFVzZXJSb3dFbGVtZW50KHJlc3BvbnNlLmRhdGEpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0YWxsb3dVc2VyQnV0dG9uLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcbn0oKSk7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///11\n")}});