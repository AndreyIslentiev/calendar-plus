!function(t){var l={};function c(e){if(l[e])return l[e].exports;var n=l[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=t,c.c=l,c.d=function(t,l,e){c.o(t,l)||Object.defineProperty(t,l,{enumerable:!0,get:e})},c.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,l){if(1&l&&(t=c(t)),8&l)return t;if(4&l&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(c.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&l&&"string"!=typeof t)for(var n in t)c.d(e,n,function(l){return t[l]}.bind(null,n));return e},c.n=function(t){var l=t&&t.__esModule?function(){return t.default}:function(){return t};return c.d(l,"a",l),l},c.o=function(t,l){return Object.prototype.hasOwnProperty.call(t,l)},c.p="",c(c.s=7)}({7:function(module,exports){eval("(function () {\r\n\t'use strict';\r\n\r\n\tlet usersList = document.getElementById('calendarp-users');\r\n\tlet allowUserButton = document.getElementById('allow-user-add');\r\n\tlet allowUserSelector = document.getElementById('allow-user');\r\n\r\n\t/**\r\n\t * Make an AJAX call\r\n\t */\r\n\tfunction call(action, data) {\r\n\t\tdata.action = action;\r\n\t\tdata.nonce = calendarpSettings.nonce;\r\n\t\treturn jQuery.post(ajaxurl, data);\r\n\t}\r\n\r\n\t/**\r\n\t * Remove a user row\r\n\t */\r\n\tfunction removeUserRowElement(id) {\r\n\t\tif (confirm('Are you sure?')) {\r\n\t\t\tlet element = document.getElementById('calendarp-' + id);\r\n\t\t\tif (element) {\r\n\t\t\t\telement.parentNode.removeChild(element);\r\n\t\t\t\tcall('calendarp_remove_user', {id: id});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Create a new user row\r\n\t */\r\n\tfunction addUserRowElement(user) {\r\n\t\tlet listNode, linkNode, removeNode, spanNode;\r\n\r\n\t\t// Create the list item\r\n\t\tlistNode = document.createElement('li');\r\n\t\tlistNode.id = 'calendarp-' + user.id;\r\n\r\n\t\tif (user.link) {\r\n\t\t\t// User has edit link\r\n\t\t\tlinkNode = document.createElement('a');\r\n\t\t\tlinkNode.href = user.link;\r\n\t\t\tlinkNode.innerHTML = user.name;\r\n\t\t\tlinkNode.title = user.linkTitle;\r\n\t\t\tlistNode.appendChild(linkNode);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tspanNode = document.createElement('span');\r\n\t\t\tspanNode.innerHTML = user.name;\r\n\t\t\tlistNode.appendChild(spanNode);\r\n\t\t}\r\n\r\n\t\tif (user.removable) {\r\n\t\t\t// The remove link. Only for users that are not the current one\r\n\t\t\tremoveNode = document.createElement('a');\r\n\t\t\tremoveNode.setAttribute('data-id', user.id);\r\n\t\t\tremoveNode.href = '#';\r\n\t\t\tremoveNode.className = 'dashicons-no-alt dashicons';\r\n\t\t\tremoveNode.title = calendarpSettings.removeTitle;\r\n\t\t\tremoveNode.addEventListener('click', function (e) {\r\n\t\t\t\t// Remove the list item on click\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tremoveUserRowElement(this.getAttribute('data-id'));\r\n\t\t\t});\r\n\t\t\tlistNode.appendChild(removeNode);\r\n\t\t}\r\n\r\n\r\n\t\tusersList.appendChild(listNode);\r\n\t}\r\n\r\n\tcalendarpSettings.usersList.forEach(addUserRowElement);\r\n\r\n\tif (allowUserSelector) {\r\n\t\t// Toggle allow button when the select changes\r\n\t\tallowUserSelector.addEventListener('change', function () {\r\n\t\t\tlet className = 'hidden';\r\n\t\t\tif (this.value) {\r\n\t\t\t\tif (allowUserButton.classList)\r\n\t\t\t\t\tallowUserButton.classList.remove(className);\r\n\t\t\t\telse\r\n\t\t\t\t\tallowUserButton.className = el.className.replace(new RegExp('(^|\\\\b)' + className.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ');\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tif (allowUserButton.classList) {\r\n\t\t\t\t\tallowUserButton.classList.add(className);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tallowUserButton.className += ' ' + className;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// Add new user when clicking on Allow button\r\n\t\tallowUserButton.addEventListener('click', function (e) {\r\n\t\t\te.preventDefault();\r\n\t\t\tthis.setAttribute('disabled', 'disabled');\r\n\t\t\tcall('calendarp_add_new_allowed_user', {id: allowUserSelector.value})\r\n\t\t\t\t.always(function (response) {\r\n\t\t\t\t\tif (response.success) {\r\n\t\t\t\t\t\taddUserRowElement(response.data);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tallowUserButton.removeAttribute('disabled');\r\n\t\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n}());\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9fc3JjL2FkbWluL3NldHRpbmdzL3NldHRpbmdzLmpzPzQxZTMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLE9BQU87QUFDMUM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLDRCQUE0QjtBQUN2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDs7QUFFQSxDQUFDIiwiZmlsZSI6IjcuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0bGV0IHVzZXJzTGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYWxlbmRhcnAtdXNlcnMnKTtcclxuXHRsZXQgYWxsb3dVc2VyQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FsbG93LXVzZXItYWRkJyk7XHJcblx0bGV0IGFsbG93VXNlclNlbGVjdG9yID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FsbG93LXVzZXInKTtcclxuXHJcblx0LyoqXHJcblx0ICogTWFrZSBhbiBBSkFYIGNhbGxcclxuXHQgKi9cclxuXHRmdW5jdGlvbiBjYWxsKGFjdGlvbiwgZGF0YSkge1xyXG5cdFx0ZGF0YS5hY3Rpb24gPSBhY3Rpb247XHJcblx0XHRkYXRhLm5vbmNlID0gY2FsZW5kYXJwU2V0dGluZ3Mubm9uY2U7XHJcblx0XHRyZXR1cm4galF1ZXJ5LnBvc3QoYWpheHVybCwgZGF0YSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBSZW1vdmUgYSB1c2VyIHJvd1xyXG5cdCAqL1xyXG5cdGZ1bmN0aW9uIHJlbW92ZVVzZXJSb3dFbGVtZW50KGlkKSB7XHJcblx0XHRpZiAoY29uZmlybSgnQXJlIHlvdSBzdXJlPycpKSB7XHJcblx0XHRcdGxldCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbGVuZGFycC0nICsgaWQpO1xyXG5cdFx0XHRpZiAoZWxlbWVudCkge1xyXG5cdFx0XHRcdGVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbGVtZW50KTtcclxuXHRcdFx0XHRjYWxsKCdjYWxlbmRhcnBfcmVtb3ZlX3VzZXInLCB7aWQ6IGlkfSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENyZWF0ZSBhIG5ldyB1c2VyIHJvd1xyXG5cdCAqL1xyXG5cdGZ1bmN0aW9uIGFkZFVzZXJSb3dFbGVtZW50KHVzZXIpIHtcclxuXHRcdGxldCBsaXN0Tm9kZSwgbGlua05vZGUsIHJlbW92ZU5vZGUsIHNwYW5Ob2RlO1xyXG5cclxuXHRcdC8vIENyZWF0ZSB0aGUgbGlzdCBpdGVtXHJcblx0XHRsaXN0Tm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XHJcblx0XHRsaXN0Tm9kZS5pZCA9ICdjYWxlbmRhcnAtJyArIHVzZXIuaWQ7XHJcblxyXG5cdFx0aWYgKHVzZXIubGluaykge1xyXG5cdFx0XHQvLyBVc2VyIGhhcyBlZGl0IGxpbmtcclxuXHRcdFx0bGlua05vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XHJcblx0XHRcdGxpbmtOb2RlLmhyZWYgPSB1c2VyLmxpbms7XHJcblx0XHRcdGxpbmtOb2RlLmlubmVySFRNTCA9IHVzZXIubmFtZTtcclxuXHRcdFx0bGlua05vZGUudGl0bGUgPSB1c2VyLmxpbmtUaXRsZTtcclxuXHRcdFx0bGlzdE5vZGUuYXBwZW5kQ2hpbGQobGlua05vZGUpO1xyXG5cdFx0fVxyXG5cdFx0ZWxzZSB7XHJcblx0XHRcdHNwYW5Ob2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG5cdFx0XHRzcGFuTm9kZS5pbm5lckhUTUwgPSB1c2VyLm5hbWU7XHJcblx0XHRcdGxpc3ROb2RlLmFwcGVuZENoaWxkKHNwYW5Ob2RlKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAodXNlci5yZW1vdmFibGUpIHtcclxuXHRcdFx0Ly8gVGhlIHJlbW92ZSBsaW5rLiBPbmx5IGZvciB1c2VycyB0aGF0IGFyZSBub3QgdGhlIGN1cnJlbnQgb25lXHJcblx0XHRcdHJlbW92ZU5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XHJcblx0XHRcdHJlbW92ZU5vZGUuc2V0QXR0cmlidXRlKCdkYXRhLWlkJywgdXNlci5pZCk7XHJcblx0XHRcdHJlbW92ZU5vZGUuaHJlZiA9ICcjJztcclxuXHRcdFx0cmVtb3ZlTm9kZS5jbGFzc05hbWUgPSAnZGFzaGljb25zLW5vLWFsdCBkYXNoaWNvbnMnO1xyXG5cdFx0XHRyZW1vdmVOb2RlLnRpdGxlID0gY2FsZW5kYXJwU2V0dGluZ3MucmVtb3ZlVGl0bGU7XHJcblx0XHRcdHJlbW92ZU5vZGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG5cdFx0XHRcdC8vIFJlbW92ZSB0aGUgbGlzdCBpdGVtIG9uIGNsaWNrXHJcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdHJlbW92ZVVzZXJSb3dFbGVtZW50KHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLWlkJykpO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0bGlzdE5vZGUuYXBwZW5kQ2hpbGQocmVtb3ZlTm9kZSk7XHJcblx0XHR9XHJcblxyXG5cclxuXHRcdHVzZXJzTGlzdC5hcHBlbmRDaGlsZChsaXN0Tm9kZSk7XHJcblx0fVxyXG5cclxuXHRjYWxlbmRhcnBTZXR0aW5ncy51c2Vyc0xpc3QuZm9yRWFjaChhZGRVc2VyUm93RWxlbWVudCk7XHJcblxyXG5cdGlmIChhbGxvd1VzZXJTZWxlY3Rvcikge1xyXG5cdFx0Ly8gVG9nZ2xlIGFsbG93IGJ1dHRvbiB3aGVuIHRoZSBzZWxlY3QgY2hhbmdlc1xyXG5cdFx0YWxsb3dVc2VyU2VsZWN0b3IuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRsZXQgY2xhc3NOYW1lID0gJ2hpZGRlbic7XHJcblx0XHRcdGlmICh0aGlzLnZhbHVlKSB7XHJcblx0XHRcdFx0aWYgKGFsbG93VXNlckJ1dHRvbi5jbGFzc0xpc3QpXHJcblx0XHRcdFx0XHRhbGxvd1VzZXJCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpO1xyXG5cdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdGFsbG93VXNlckJ1dHRvbi5jbGFzc05hbWUgPSBlbC5jbGFzc05hbWUucmVwbGFjZShuZXcgUmVnRXhwKCcoXnxcXFxcYiknICsgY2xhc3NOYW1lLnNwbGl0KCcgJykuam9pbignfCcpICsgJyhcXFxcYnwkKScsICdnaScpLCAnICcpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdGlmIChhbGxvd1VzZXJCdXR0b24uY2xhc3NMaXN0KSB7XHJcblx0XHRcdFx0XHRhbGxvd1VzZXJCdXR0b24uY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdGFsbG93VXNlckJ1dHRvbi5jbGFzc05hbWUgKz0gJyAnICsgY2xhc3NOYW1lO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gQWRkIG5ldyB1c2VyIHdoZW4gY2xpY2tpbmcgb24gQWxsb3cgYnV0dG9uXHJcblx0XHRhbGxvd1VzZXJCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdHRoaXMuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xyXG5cdFx0XHRjYWxsKCdjYWxlbmRhcnBfYWRkX25ld19hbGxvd2VkX3VzZXInLCB7aWQ6IGFsbG93VXNlclNlbGVjdG9yLnZhbHVlfSlcclxuXHRcdFx0XHQuYWx3YXlzKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG5cdFx0XHRcdFx0aWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHtcclxuXHRcdFx0XHRcdFx0YWRkVXNlclJvd0VsZW1lbnQocmVzcG9uc2UuZGF0YSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRhbGxvd1VzZXJCdXR0b24ucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxufSgpKTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///7\n")}});