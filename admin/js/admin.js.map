{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./_src/admin/admin/admin.js","webpack:///./_src/admin/admin/models/location-selector.js","webpack:///./_src/admin/admin/views/location-selector.js","webpack:///./_src/admin/admin/models/location-gmap.js","webpack:///./_src/admin/admin/views/location-gmap.js","webpack:///./_src/admin/admin/misc/event-details.js","webpack:///./_src/admin/admin/misc/calendar.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","$","jQuery","window","CalendarPlusAdmin","models","views","collections","misc","helpers","template","id","_","document","getElementById","innerHTML","setSelectedLocation","model","toJSON","selectedLocationView","SelectedLocation","html","hide","append","render","el","fadeIn","LocationSelector","Backbone","Model","extend","defaults","type","mapOptions","markerOptions","mapModel","mapView","View","$currentTab","tabs","$currentSelector","$metaboxInside","events","initialize","this","first","listenTo","changeType","$el","length","find","self","each","index","tab","setSelector","e","preventDefault","new_type","target","data","set","removeClass","val","addClass","loadMap","GMap","address","marker","center","infowindow","textBox","htmlBox","gm_authFailure","err","CalendarPlusi18n","gmaps_api_key_error","canvas","searchBox","$mapOptionsFields","updateMapFields","google","maps","Map","map","dropMarker","position","lat","lng","controls","ControlPosition","TOP_LEFT","push","places","SearchBox","keydown","keyCode","getZoom","event","addListener","markers","getPlaces","setMap","place","bounds","LatLngBounds","geometry","location","fitBounds","moveMarker","Marker","LatLng","draggable","latLng","setPosition","zoom","getPosition","eventDetailsMetabox","args","selector","settings","regular","recurrent","datespan","wrapper","disabled","$selector","disableInputs","init","not","attr","enableInputs","removeAttr","show","$options","eventDetailRegularItem","element","filter","add_new_button","eventDetailRecurrentItem","eventDetailDatespanItem","display","change","setSelection","$editDatesCheckbox","is","new_value","$add_new_button","$template","addRegularDate","click","removeRegularDate","datepicker","dateFormat","AllDayEventCheckbox","trigger","new_element","clone","remove_link","insertBefore","slideUp","detach","fadeOut","addDatespanDate","removeDatespanDate","exclusionsIndex","$addExclusionsButton","$exclusionsList","$exclusionsTemplate","$everyContainers","$everySelector","addExcludedDate","showEveryContainer","removeExcludedDate","recurrentAllDayEventCheckbox","slideDown","hideEveryContainers","slug","newElement","removeLink","Calendar","fillWeekCalendar","showPopup","hidePopups","deleteCell","apply","toggleToEditCell","cellId","popup","confirm","delete_calendar_event","ajax","url","ajaxurl","action","cell_id","cell","saveCell","spinner","css","from_time","until_time","from_am_pm","until_am_pm","always","reload","dateClass","appendTo"],"mappings":"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","file":"admin.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","(function ($) {\r\n\twindow.CalendarPlusAdmin = {\r\n\r\n\t\tmodels: {},\r\n\t\tviews: {},\r\n\t\tcollections: {},\r\n\t\tmisc: {},\r\n\r\n\t\t/*****************************************************************/\r\n\t\t/**                        HELPERS                                **/\r\n\t\t/*****************************************************************/\r\n\t\thelpers: {\r\n\t\t\t/**\r\n\t\t\t * Load a Backbone template from the HTML code\r\n\t\t\t * @param  string id HTML ID attribute\r\n\t\t\t * @return object    Underscore Template object\r\n\t\t\t */\r\n\t\t\ttemplate: function (id) {\r\n\t\t\t\treturn _.template(document.getElementById(id).innerHTML);\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Set a new selected location in Location Meta box\r\n\t\t\t * @param object model CalendarPlusAdmin.models.EventLocation Model\r\n\t\t\t */\r\n\t\t\tsetSelectedLocation: function (model) {\r\n\t\t\t\tif (!model.toJSON().id)\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\tlet selectedLocationView = new CalendarPlusAdmin.views.SelectedLocation({model: model});\r\n\t\t\t\t$('#selected-location')\r\n\t\t\t\t\t.html('')\r\n\t\t\t\t\t.hide()\r\n\t\t\t\t\t.append(selectedLocationView.render().el)\r\n\t\t\t\t\t.fadeIn();\r\n\r\n\t\t\t}\r\n\t\t}// End helpers\r\n\t};\r\n})(jQuery);\r\n\r\nrequire('./models/location-selector.js');\r\nrequire('./views/location-selector.js');\r\nrequire('./models/location-gmap.js');\r\nrequire('./views/location-gmap.js');\r\nrequire('./misc/event-details.js');\r\nrequire('./misc/calendar.js');\r\n","(function ($) {\r\n\twindow.CalendarPlusAdmin.models.LocationSelector = Backbone.Model.extend({\r\n\t\tdefaults: {\r\n\t\t\ttype: false,\r\n\t\t\tmapOptions: {},\r\n\t\t\tmarkerOptions: {},\r\n\t\t\tmapModel: false,\r\n\t\t\tmapView: false\r\n\t\t}\r\n\t});\r\n})(jQuery);\r\n","(function ($) {\r\n\twindow.CalendarPlusAdmin.views.LocationSelector = Backbone.View.extend({\r\n\t\t$currentTab: false,\r\n\t\ttabs: [],\r\n\t\t$currentSelector: false,\r\n\t\t$metaboxInside: false,\r\n\r\n\t\tevents: {\r\n\t\t\t'click .location-selector': 'setSelector'\r\n\t\t},\r\n\r\n\t\tinitialize: function () {\r\n\t\t\tthis.$metaboxInside = $('#calendar-location-location').first();\r\n\t\t\tthis.listenTo(this.model, 'change:type', this.changeType);\r\n\t\t},\r\n\t\trender: function () {\r\n\t\t\tlet template = CalendarPlusAdmin.helpers.template('location-type-selector-template');\r\n\t\t\tthis.$el.html(template({}));\r\n\r\n\t\t\tif (!this.tabs.length) {\r\n\t\t\t\tlet tabs = this.$el.find('.location-selector-tab');\r\n\t\t\t\tlet self = this;\r\n\t\t\t\ttabs.each(function (index, tab) {\r\n\t\t\t\t\tself.tabs[tab.id] = $(tab);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\treturn this;\r\n\t\t},\r\n\t\tsetSelector: function (e) {\r\n\t\t\te.preventDefault();\r\n\t\t\tlet new_type = $(e.target).data('type');\r\n\t\t\tif (new_type === this.model.get('type'))\r\n\t\t\t\treturn;\r\n\t\t\tthis.model.set('type', new_type);\r\n\t\t\tthis.changeType();\r\n\t\t},\r\n\t\tchangeType: function () {\r\n\t\t\tlet type = this.model.get('type');\r\n\r\n\t\t\tif (false != this.$currentSelector) {\r\n\t\t\t\tthis.$currentSelector.removeClass('selected');\r\n\t\t\t}\r\n\r\n\t\t\tif (false != this.$currentTab) {\r\n\t\t\t\tthis.$currentTab.hide();\r\n\t\t\t}\r\n\r\n\t\t\t$('input[name=location-type]').val(type);\r\n\r\n\t\t\tthis.$currentTab = this.tabs['location-' + type].first();\r\n\t\t\tthis.$currentSelector = $('#location-selector-' + type);\r\n\t\t\tthis.$currentSelector.addClass('selected');\r\n\r\n\t\t\tlet self = this;\r\n\t\t\tthis.$currentTab.fadeIn(function () {\r\n\t\t\t\tif (type === 'gmaps')\r\n\t\t\t\t\tself.loadMap();\r\n\t\t\t});\r\n\t\t},\r\n\t\tloadMap: function () {\r\n\t\t\tif (!this.mapModel) {\r\n\t\t\t\tthis.mapModel = new CalendarPlusAdmin.models.GMap({\r\n\t\t\t\t\tmapOptions: this.model.get('mapOptions'),\r\n\t\t\t\t\tmarkerOptions: this.model.get('markerOptions'),\r\n\t\t\t\t});\r\n\r\n\t\t\t\tthis.mapView = new CalendarPlusAdmin.views.GMap({model: this.mapModel});\r\n\t\t\t\tthis.mapView.render();\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n})(jQuery);\r\n","(function ($) {\r\n\twindow.CalendarPlusAdmin.models.GMap = Backbone.Model.extend({\r\n\t\tdefaults: {\r\n\t\t\tmapOptions: {},\r\n\t\t\tmarkerOptions: {},\r\n\t\t\taddress: false,\r\n\t\t\tmarker: false,\r\n\t\t\tcenter: false,\r\n\t\t\taddress: '',\r\n\t\t\tinfowindow: false,\r\n\t\t\ttextBox: false,\r\n\t\t\thtmlBox: false\r\n\t\t},\r\n\t\tinitialize: function () {\r\n\t\t\tthis.set('address', this.get('markerOptions').address);\r\n\t\t}\r\n\t});\r\n})(jQuery);\r\n","window.gm_authFailure = function (err) {\r\n\tdocument.getElementById('map_canvas').innerHTML = CalendarPlusi18n.gmaps_api_key_error;\r\n};\r\n\r\n(function ($) {\r\n\twindow.CalendarPlusAdmin.views.GMap = Backbone.View.extend({\r\n\t\tcanvas: false,\r\n\t\tsearchBox: false,\r\n\t\t$mapOptionsFields: false,\r\n\t\tinitialize: function () {\r\n\t\t\tthis.canvas = document.getElementById('map_canvas');\r\n\t\t\tthis.searchBox = document.getElementById('location-gmaps-search');\r\n\t\t\tthis.$mapOptionsFields = $('.location-gmaps-map-options');\r\n\t\t\tthis.listenTo(this.model, 'change', this.updateMapFields);\r\n\t\t},\r\n\t\trender: function () {\r\n\t\t\tif (typeof google.maps.Map === 'function') {\r\n\t\t\t\tlet mapOptions = this.model.get('mapOptions');\r\n\t\t\t\tlet markerOptions = this.model.get('markerOptions');\r\n\r\n\t\t\t\t// Create the new map\r\n\t\t\t\tlet map = new google.maps.Map(this.canvas, mapOptions);\r\n\r\n\t\t\t\t// Drop the marker\r\n\t\t\t\tthis.dropMarker(markerOptions.position.lat(), markerOptions.position.lng(), map);\r\n\r\n\t\t\t\t// Move the search box inside the map\r\n\t\t\t\tmap.controls[google.maps.ControlPosition.TOP_LEFT].push(this.searchBox);\r\n\t\t\t\tthis.searchBox = new google.maps.places.SearchBox(this.searchBox);\r\n\r\n\t\t\t\t// Avoid submit form if the user presses return key\r\n\t\t\t\t$(\"#location-gmaps-search\").keydown(function (e) {\r\n\t\t\t\t\tif (e.keyCode == 13) {\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tthis.model.set('center', map.center);\r\n\t\t\t\tthis.model.set('zoom', map.getZoom());\r\n\r\n\t\t\t\tlet self = this;\r\n\t\t\t\tgoogle.maps.event.addListener(this.searchBox, 'places_changed', function () {\r\n\t\t\t\t\t//If the user searches another place, let's drop the new marker\r\n\t\t\t\t\tlet markers;\r\n\t\t\t\t\tlet places = self.searchBox.getPlaces();\r\n\t\t\t\t\tlet marker = self.model.get('marker');\r\n\r\n\t\t\t\t\tif (marker === false)\r\n\t\t\t\t\t\tmarkers = [];\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tmarkers = [marker];\r\n\r\n\t\t\t\t\tif (places.length === 0)\r\n\t\t\t\t\t\treturn;\r\n\r\n\t\t\t\t\tfor (let i = 0; marker = markers[i]; i++)\r\n\t\t\t\t\t\tmarker.setMap(null);\r\n\r\n\t\t\t\t\t// For each place, get the icon, place name, and location.\r\n\t\t\t\t\tmarkers = [];\r\n\t\t\t\t\tlet bounds = new google.maps.LatLngBounds();\r\n\t\t\t\t\tlet place;\r\n\t\t\t\t\tfor (i = 0, place; place = places[i]; i++) {\r\n\r\n\t\t\t\t\t\t// Create a marker for each place.\r\n\t\t\t\t\t\tself.dropMarker(place.geometry.location.lat(), place.geometry.location.lng(), map);\r\n\t\t\t\t\t\tmarkers.push(marker);\r\n\r\n\t\t\t\t\t\tbounds.extend(place.geometry.location);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tmap.fitBounds(bounds);\r\n\t\t\t\t});\r\n\r\n\t\t\t\tgoogle.maps.event.addListener(map, 'bounds_changed', function (event) {\r\n\t\t\t\t\tself.model.set('center', map.center);\r\n\t\t\t\t\tself.model.set('zoom', map.getZoom());\r\n\t\t\t\t});\r\n\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\t\t},\r\n\t\tdropMarker: function (lat, lng, map) {\r\n\t\t\tlet marker = this.model.get('marker');\r\n\t\t\tlet self = this;\r\n\r\n\t\t\tif (marker !== false) {\r\n\t\t\t\t// There's already a marker\r\n\t\t\t\tmarker = this.moveMarker(lat, lng);\r\n\t\t\t\tmarker.setMap(map);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t// create a new marker\r\n\t\t\t\tmarker = new google.maps.Marker({\r\n\t\t\t\t\tposition: new google.maps.LatLng(lat, lng),\r\n\t\t\t\t\tdraggable: true,\r\n\t\t\t\t\tmap: map\r\n\t\t\t\t});\r\n\r\n\t\t\t\tmarker.set(\"editing\", false);\r\n\t\t\t}\r\n\r\n\r\n\t\t\t// Marker events\r\n\t\t\tgoogle.maps.event.addListener(marker, 'drag', function (event) {\r\n\t\t\t\tself.moveMarker(event.latLng.lat(), event.latLng.lng(), map);\r\n\t\t\t});\r\n\r\n\r\n\t\t\tthis.model.set('marker', marker);\r\n\t\t\tthis.model.set('center', marker.map.center);\r\n\t\t\tthis.model.set('zoom', marker.map.getZoom());\r\n\r\n\t\t},\r\n\t\tmoveMarker: function (lat, lng) {\r\n\t\t\tlet marker = this.model.get('marker');\r\n\t\t\tmarker.setPosition(new google.maps.LatLng(lat, lng));\r\n\t\t\tthis.model.set('marker', marker);\r\n\r\n\t\t\t// If we move the model a little changes are not detected by Backbone\r\n\t\t\tthis.updateMapFields();\r\n\r\n\t\t\treturn marker;\r\n\r\n\t\t},\r\n\t\tupdateMapFields: function () {\r\n\t\t\tlet marker = this.model.get('marker');\r\n\t\t\tlet center = this.model.get('center');\r\n\t\t\tlet zoom = this.model.get('zoom');\r\n\t\t\tlet address = this.model.get('address');\r\n\r\n\t\t\tif (marker !== false) {\r\n\t\t\t\tthis.$mapOptionsFields.find('[name=\"gmaps[location-gmaps-marker-lat]\"]').first().val(marker.getPosition().lat());\r\n\t\t\t\tthis.$mapOptionsFields.find('[name=\"gmaps[location-gmaps-marker-long]\"]').first().val(marker.getPosition().lng());\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.$mapOptionsFields.find('[name=\"gmaps[location-gmaps-marker-lat]\"]').first().val('');\r\n\t\t\t\tthis.$mapOptionsFields.find('[name=\"gmaps[location-gmaps-marker-long]\"]').first().val('');\r\n\t\t\t}\r\n\t\t\tif (center !== false) {\r\n\t\t\t\tthis.$mapOptionsFields.find('[name=\"gmaps[location-gmaps-lat]\"]').first().val(center.lat());\r\n\t\t\t\tthis.$mapOptionsFields.find('[name=\"gmaps[location-gmaps-long]\"]').first().val(center.lng());\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.$mapOptionsFields.find('[name=\"gmaps[location-gmaps-lat]\"]').first().val('');\r\n\t\t\t\tthis.$mapOptionsFields.find('[name=\"gmaps[location-gmaps-long]\"]').first().val('');\r\n\t\t\t}\r\n\t\t\tif (zoom !== false) {\r\n\t\t\t\tthis.$mapOptionsFields.find('[name=\"gmaps[location-gmaps-zoom]\"]').first().val(zoom);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.$mapOptionsFields.find('[name=\"gmaps[location-gmaps-zoom]\"]').first().val(2);\r\n\t\t\t}\r\n\r\n\t\t\tthis.$mapOptionsFields.find('[name=\"gmaps[location-gmaps-address]\"]').first().val(address);\r\n\t\t}\r\n\t});\r\n})(jQuery);\r\n","(function ($) {\r\n\r\n\twindow.CalendarPlusAdmin.misc.eventDetailsMetabox = function (args) {\r\n\t\tthis.args = {\r\n\t\t\tselector: false,\r\n\t\t\tsettings: {\r\n\t\t\t\tregular: {},\r\n\t\t\t\trecurrent: {},\r\n\t\t\t\tdatespan: {}\r\n\t\t\t},\r\n\t\t\ttype: 'regular',\r\n\t\t\twrapper: false,\r\n\t\t\tdisabled: 0\r\n\t\t};\r\n\r\n\t\t$.extend(this.args, args);\r\n\r\n\t\tthis.settings = this.args.settings;\r\n\t\tthis.$selector = this.args.selector;\r\n\t\tthis.type = this.args.type;\r\n\t\tthis.$el = this.args.wrapper || $('#event-dates');\r\n\r\n\t\tif (this.args.disabled == '1') {\r\n\t\t\tthis.disableInputs();\r\n\t\t}\r\n\r\n\t\tif (!this.$selector || !this.$selector.length) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tthis.init();\r\n\t};\r\n\r\n\twindow.CalendarPlusAdmin.misc.eventDetailsMetabox.prototype.disableInputs = function () {\r\n\t\tif (!$('#edit-dates').length)\r\n\t\t\treturn;\r\n\r\n\t\tthis.$el.find('input, select, #event-dates-recurrent-exclusions-add, #add-regular-event').not('#edit-dates').attr('disabled', 'disabled');\r\n\t\tthis.$el.find('a.remove-link').hide();\r\n\t};\r\n\r\n\twindow.CalendarPlusAdmin.misc.eventDetailsMetabox.prototype.enableInputs = function () {\r\n\t\tthis.$el.find('input, select, #event-dates-recurrent-exclusions-add, #add-regular-event').not('#edit-dates').removeAttr('disabled');\r\n\t\tthis.$el.find('a.remove-link').show();\r\n\t};\r\n\r\n\r\n\twindow.CalendarPlusAdmin.misc.eventDetailsMetabox.prototype.init = function () {\r\n\t\tlet self = this;\r\n\t\tlet $options = this.$el.find('.event-dates-option');\r\n\t\tthis.$options = {};\r\n\r\n\t\tthis.$options.regular = new window.CalendarPlusAdmin.misc.eventDetailRegularItem({\r\n\t\t\telement: $options.filter('#event-dates-regular').first(),\r\n\t\t\tadd_new_button: $options.find('#add-regular-event').first(),\r\n\t\t\tsettings: this.settings.regular\r\n\t\t});\r\n\r\n\t\tthis.$options.recurrent = new window.CalendarPlusAdmin.misc.eventDetailRecurrentItem({\r\n\t\t\telement: $options.filter('#event-dates-recurrent').first(),\r\n\t\t\tsettings: this.settings.recurrent\r\n\t\t});\r\n\r\n\t\tthis.$options.datespan = new window.CalendarPlusAdmin.misc.eventDetailDatespanItem({\r\n\t\t\telement: $options.filter('#event-dates-datespan').first(),\r\n\t\t\tsettings: this.settings.datespan\r\n\t\t});\r\n\r\n\t\tthis.$options[this.type].display();\r\n\r\n\t\tthis.$selector.change(function (e) {\r\n\t\t\tself.setSelection.call(self, $(this).val());\r\n\t\t});\r\n\r\n\t\tthis.$editDatesCheckbox = this.$el.find('#edit-dates').change(function (e) {\r\n\t\t\tif ($(this).is(':checked'))\r\n\t\t\t\tself.enableInputs();\r\n\t\t\telse\r\n\t\t\t\tself.disableInputs();\r\n\t\t});\r\n\r\n\t};\r\n\r\n\twindow.CalendarPlusAdmin.misc.eventDetailsMetabox.prototype.setSelection = function (new_value) {\r\n\t\tif (new_value !== this.type) {\r\n\t\t\tthis.$options[this.type].hide();\r\n\t\t\tthis.type = new_value;\r\n\t\t\tthis.$options[this.type].display();\r\n\r\n\t\t\tif (this.$el.find('#edit-dates').is(':checked'))\r\n\t\t\t\tthis.enableInputs();\r\n\t\t\telse\r\n\t\t\t\tthis.disableInputs();\r\n\t\t}\r\n\t};\r\n\r\n\r\n\t/** REGULAR OPTIONS */\r\n\twindow.CalendarPlusAdmin.misc.eventDetailRegularItem = function (args) {\r\n\t\tthis.args = {\r\n\t\t\tsettings: {},\r\n\t\t\telement: false,\r\n\t\t\tadd_new_button: false,\r\n\t\t\ttemplate: $('#event-regular-date-template')\r\n\t\t};\r\n\r\n\t\t$.extend(this.args, args);\r\n\r\n\t\tthis.index = $('#standard-dates-index').val();\r\n\t\tthis.$el = this.args.element;\r\n\t\tthis.$add_new_button = this.args.add_new_button;\r\n\t\tthis.$template = this.args.template;\r\n\r\n\t\tthis.init();\r\n\t};\r\n\r\n\twindow.CalendarPlusAdmin.misc.eventDetailRegularItem.prototype.init = function () {\r\n\t\tlet self = this;\r\n\r\n\t\tif (this.index == '0') {\r\n\t\t\tthis.addRegularDate();\r\n\t\t}\r\n\r\n\t\tthis.$add_new_button.click(function (e) {\r\n\t\t\te.preventDefault();\r\n\t\t\tself.addRegularDate();\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\t$('.remove-regular-event').click(function (e) {\r\n\t\t\te.preventDefault();\r\n\t\t\tself.removeRegularDate($(this).data('regular-date-id'));\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\tthis.$el.find('.datepicker').datepicker({\r\n\t\t\tdateFormat: 'yy-mm-dd'\r\n\t\t});\r\n\r\n\t\tlet AllDayEventCheckbox = $('#event-dates-regular-time-all-day-event');\r\n\t\tAllDayEventCheckbox.change(function () {\r\n\t\t\tif ($(this).is(':checked')) {\r\n\t\t\t\tself.$el.addClass('all-day-event');\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tself.$el.removeClass('all-day-event');\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tAllDayEventCheckbox.trigger('change');\r\n\t};\r\n\r\n\twindow.CalendarPlusAdmin.misc.eventDetailRegularItem.prototype.addRegularDate = function () {\r\n\t\tthis.index++;\r\n\t\tlet self = this;\r\n\t\tlet new_element = this.$template.clone();\r\n\t\tnew_element\r\n\t\t\t.attr('id', 'event-regular-date-' + this.index)\r\n\t\t\t.addClass('event-regular-date-item')\r\n\t\t\t.show();\r\n\r\n\t\tlet remove_link = new_element.find('.remove-regular-event').first();\r\n\r\n\t\tremove_link.attr('data-regular-date-id', this.index);\r\n\r\n\t\tremove_link.click(function (e) {\r\n\t\t\te.preventDefault();\r\n\t\t\tself.removeRegularDate($(this).data('regular-date-id'));\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\tnew_element.find('.standard-dates-datepicker').datepicker({\r\n\t\t\tdateFormat: 'yy-mm-dd'\r\n\t\t});\r\n\r\n\t\tnew_element.insertBefore(this.$add_new_button);\r\n\t};\r\n\r\n\twindow.CalendarPlusAdmin.misc.eventDetailRegularItem.prototype.removeRegularDate = function (index) {\r\n\t\tthis.$el.find('#event-regular-date-' + index).slideUp(function () {\r\n\t\t\t$(this).detach();\r\n\t\t});\r\n\t\treturn this.$el;\r\n\t};\r\n\r\n\twindow.CalendarPlusAdmin.misc.eventDetailRegularItem.prototype.display = function () {\r\n\t\tthis.$el.fadeIn();\r\n\t\treturn this.$el;\r\n\t};\r\n\r\n\twindow.CalendarPlusAdmin.misc.eventDetailRegularItem.prototype.hide = function () {\r\n\t\tthis.$el.fadeOut();\r\n\t\treturn this.$el;\r\n\t};\r\n\r\n\r\n\t/** DATESPAN OPTIONS */\r\n\twindow.CalendarPlusAdmin.misc.eventDetailDatespanItem = function (args) {\r\n\t\tthis.args = {\r\n\t\t\tsettings: {},\r\n\t\t\telement: false,\r\n\t\t\tadd_new_button: false,\r\n\t\t\ttemplate: $('#event-datespan-date-template')\r\n\t\t};\r\n\r\n\t\t$.extend(this.args, args);\r\n\r\n\t\tthis.$el = this.args.element;\r\n\t\tthis.$template = this.args.template;\r\n\r\n\t\tthis.init();\r\n\t};\r\n\r\n\twindow.CalendarPlusAdmin.misc.eventDetailDatespanItem.prototype.init = function () {\r\n\t\tlet self = this;\r\n\r\n\t\tthis.$el.find('.datepicker').datepicker({\r\n\t\t\tdateFormat: 'yy-mm-dd'\r\n\t\t});\r\n\r\n\t\tlet AllDayEventCheckbox = $('#event-dates-datespan-time-all-day-event');\r\n\t\tAllDayEventCheckbox.change(function () {\r\n\t\t\tif ($(this).is(':checked')) {\r\n\t\t\t\tself.$el.addClass('all-day-event');\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tself.$el.removeClass('all-day-event');\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tAllDayEventCheckbox.trigger('change');\r\n\t};\r\n\r\n\twindow.CalendarPlusAdmin.misc.eventDetailDatespanItem.prototype.addDatespanDate = function () {\r\n\t\tthis.index++;\r\n\t\tlet self = this;\r\n\t\tlet new_element = this.$template.clone();\r\n\t\tnew_element\r\n\t\t\t.attr('id', 'event-regular-date-' + this.index)\r\n\t\t\t.addClass('event-regular-date-item')\r\n\t\t\t.show();\r\n\r\n\t\tlet remove_link = new_element.find('.remove-regular-event').first();\r\n\r\n\t\tremove_link.attr('data-regular-date-id', this.index);\r\n\r\n\t\tremove_link.click(function (e) {\r\n\t\t\te.preventDefault();\r\n\t\t\tself.removeDatespanDate($(this).data('regular-date-id'));\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\tnew_element.find('.standard-dates-datepicker').datepicker({\r\n\t\t\tdateFormat: 'yy-mm-dd'\r\n\t\t});\r\n\r\n\t\tnew_element.insertBefore(this.$add_new_button);\r\n\t};\r\n\r\n\twindow.CalendarPlusAdmin.misc.eventDetailDatespanItem.prototype.removeDatespanDate = function (index) {\r\n\t\tthis.$el.find('#event-regular-date-' + index).slideUp(function () {\r\n\t\t\t$(this).detach();\r\n\t\t});\r\n\t\treturn this.$el;\r\n\t};\r\n\r\n\twindow.CalendarPlusAdmin.misc.eventDetailDatespanItem.prototype.display = function () {\r\n\t\tthis.$el.fadeIn();\r\n\t\treturn this.$el;\r\n\t};\r\n\r\n\twindow.CalendarPlusAdmin.misc.eventDetailDatespanItem.prototype.hide = function () {\r\n\t\tthis.$el.fadeOut();\r\n\t\treturn this.$el;\r\n\t};\r\n\r\n\r\n\t/** RECURRENT OPTIONS */\r\n\twindow.CalendarPlusAdmin.misc.eventDetailRecurrentItem = function (args) {\r\n\t\tthis.args = {\r\n\t\t\tsettings: {},\r\n\t\t\telement: false,\r\n\t\t};\r\n\r\n\t\t$.extend(this.args, args);\r\n\r\n\t\tthis.exclusionsIndex = $('#recurring-exclusions-index').val();\r\n\t\tthis.$el = this.args.element;\r\n\r\n\t\tthis.$addExclusionsButton = this.$el.find('#event-dates-recurrent-exclusions-add');\r\n\t\tthis.$exclusionsList = this.$el.find('#event-dates-recurrent-exclusions-list');\r\n\t\tthis.$exclusionsTemplate = this.$el.find('#event-dates-recurrent-exclusions-date-template');\r\n\t\tthis.$everyContainers = this.$el.find('.recurring-every-container');\r\n\t\tthis.$everySelector = this.$el.find('#recurring-frequency-every');\r\n\r\n\t\tthis.init();\r\n\t};\r\n\r\n\twindow.CalendarPlusAdmin.misc.eventDetailRecurrentItem.prototype.init = function () {\r\n\t\tlet self = this;\r\n\r\n\t\tthis.$addExclusionsButton.click(function (e) {\r\n\t\t\te.preventDefault();\r\n\t\t\tself.addExcludedDate();\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\tthis.showEveryContainer(this.$everySelector.val());\r\n\t\tthis.$everySelector.change(function () {\r\n\t\t\tself.showEveryContainer($(this).val());\r\n\t\t});\r\n\r\n\t\tlet removeLinks = this.$el.find('.remove-exclusions-date');\r\n\t\tremoveLinks.click(function (e) {\r\n\t\t\te.preventDefault();\r\n\t\t\tself.removeExcludedDate($(this).data('excluded-date-id'));\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\tlet recurrentAllDayEventCheckbox = this.$el.find('#event-dates-recurrent-time-all-day-event');\r\n\t\trecurrentAllDayEventCheckbox.change(function () {\r\n\r\n\t\t\tif ($(this).is(':checked')) {\r\n\t\t\t\t$('#event-dates-recurrent-time').find('.recurring-times-from').slideUp();\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tif (!$('#edit-dates').is(':checked'))\r\n\t\t\t\t\t$('#event-dates-recurrent-time').find('.recurring-times-from').hide();\r\n\r\n\t\t\t\t$('#event-dates-recurrent-time').find('.recurring-times-from').slideDown();\r\n\t\t\t}\r\n\r\n\t\t});\r\n\r\n\t\trecurrentAllDayEventCheckbox.trigger('change');\r\n\r\n\t};\r\n\r\n\twindow.CalendarPlusAdmin.misc.eventDetailRecurrentItem.prototype.hideEveryContainers = function () {\r\n\t\tthis.$everyContainers.hide();\r\n\t\tthis.$everyContainers.find('.recurring-every-field').attr('disabled', true);\r\n\t};\r\n\r\n\twindow.CalendarPlusAdmin.misc.eventDetailRecurrentItem.prototype.showEveryContainer = function (slug) {\r\n\t\tthis.hideEveryContainers();\r\n\t\tthis.$everyContainers.filter('.recurring-every-' + slug).show();\r\n\t\tthis.$everyContainers.find('.recurring-every-field-' + slug).attr('disabled', false);\r\n\t};\r\n\r\n\twindow.CalendarPlusAdmin.misc.eventDetailRecurrentItem.prototype.display = function () {\r\n\t\tthis.$el.fadeIn();\r\n\t\treturn this.$el;\r\n\t};\r\n\r\n\twindow.CalendarPlusAdmin.misc.eventDetailRecurrentItem.prototype.hide = function () {\r\n\t\tthis.$el.fadeOut();\r\n\t\treturn this.$el;\r\n\t};\r\n\r\n\twindow.CalendarPlusAdmin.misc.eventDetailRecurrentItem.prototype.addExcludedDate = function () {\r\n\t\tlet self = this;\r\n\r\n\t\tthis.exclusionsIndex++;\r\n\t\tlet newElement = this.$exclusionsTemplate.clone();\r\n\t\tnewElement\r\n\t\t\t.attr('id', 'recurring-exclusions-' + this.exclusionsIndex)\r\n\t\t\t.removeClass('hidden');\r\n\r\n\r\n\t\tlet removeLink = newElement.find('.remove-exclusions-date').first();\r\n\r\n\t\tremoveLink.attr('data-excluded-date-id', this.exclusionsIndex);\r\n\r\n\t\tremoveLink.click(function (e) {\r\n\t\t\te.preventDefault();\r\n\t\t\tself.removeExcludedDate($(this).data('excluded-date-id'));\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\tnewElement = this.$exclusionsList.append(newElement);\r\n\r\n\t\tnewElement.find('.recurring-exclusions-datepicker').datepicker({\r\n\t\t\tdateFormat: 'yy-mm-dd'\r\n\t\t});\r\n\t};\r\n\r\n\twindow.CalendarPlusAdmin.misc.eventDetailRecurrentItem.prototype.removeExcludedDate = function (index) {\r\n\t\tthis.$exclusionsList.find('#recurring-exclusions-' + index).detach();\r\n\t\treturn this.$exclusionsList;\r\n\t};\r\n\r\n})(jQuery);\r\n","(function ($) {\r\n\r\n\r\n\twindow.CalendarPlusAdmin.misc.Calendar = function (mode) {\r\n\t\tthis.init(mode);\r\n\t};\r\n\r\n\twindow.CalendarPlusAdmin.misc.Calendar.prototype.init = function (mode) {\r\n\t\tlet self = this;\r\n\r\n\t\tthis.fillWeekCalendar();\r\n\r\n\t\t$('.calendarp_calendar .event').click(function (e) {\r\n\t\t\tself.showPopup($(e.target).data('calendar-cell-id'));\r\n\t\t});\r\n\r\n\t\t$('.calendarp-calendar-backdrop').click(this.hidePopups);\r\n\t\t$('.calendar_popup .close-popup').click(this.hidePopups);\r\n\t\t$('.calendar_popup .delete-calendar-cell').click(function (e) {\r\n\t\t\tself.deleteCell.apply(self, [e]);\r\n\t\t});\r\n\r\n\t\t$('.calendar_popup .edit-calendar-cell').click(function (e) {\r\n\t\t\tself.toggleToEditCell.apply(self, [e]);\r\n\t\t});\r\n\r\n\r\n\t};\r\n\r\n\twindow.CalendarPlusAdmin.misc.Calendar.prototype.showPopup = function (cellId) {\r\n\t\tlet popup = $('#calendar-popup-cell-id-' + cellId);\r\n\t\tthis.hidePopups();\r\n\t\tpopup.show();\r\n\t\t$('.calendarp-calendar-backdrop').show();\r\n\t};\r\n\r\n\twindow.CalendarPlusAdmin.misc.Calendar.prototype.hidePopups = function () {\r\n\t\t$('.calendar_popup').hide();\r\n\t\t$('.calendarp-calendar-backdrop').hide();\r\n\t\t$('.calendar_popup .popup-inner-content').show();\r\n\t\t$('.calendar_popup .popup-footer-inner-content').show();\r\n\t\t$('.calendar_popup .popup-inner-content-editable').hide();\r\n\t\t$('.calendar_popup .popup-footer-inner-content-editable').hide();\r\n\t};\r\n\r\n\twindow.CalendarPlusAdmin.misc.Calendar.prototype.deleteCell = function (e) {\r\n\t\te.preventDefault();\r\n\r\n\t\tif (!confirm(CalendarPlusi18n.delete_calendar_event)) {\r\n\t\t\tthis.hidePopups();\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlet cellId = $(e.target).data('cell-id');\r\n\t\t$('.event-cell-' + cellId).hide();\r\n\t\tthis.hidePopups();\r\n\r\n\t\t$.ajax({\r\n\t\t\turl: CalendarPlusi18n.ajaxurl,\r\n\t\t\ttype: 'POST',\r\n\t\t\tdata: {\r\n\t\t\t\taction: 'calendarp_remove_calendar_cell',\r\n\t\t\t\tcell_id: cellId\r\n\t\t\t},\r\n\t\t});\r\n\r\n\t};\r\n\r\n\twindow.CalendarPlusAdmin.misc.Calendar.prototype.toggleToEditCell = function (e) {\r\n\t\te.preventDefault();\r\n\r\n\t\tlet self = this;\r\n\t\tlet cellId = $(e.target).data('cell-id');\r\n\t\tlet cell = $('#calendar-popup-cell-id-' + cellId);\r\n\r\n\t\tif (!cell.length) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tcell.find('.popup-inner-content').hide();\r\n\t\tcell.find('.popup-footer-inner-content').hide();\r\n\t\tcell.find('.popup-inner-content-editable').show();\r\n\t\tcell.find('.popup-footer-inner-content-editable').show();\r\n\r\n\t\tcell.find('.save-calendar-cell').click(function (e) {\r\n\t\t\te.preventDefault();\r\n\t\t\tself.saveCell.apply(cell, [e, self]);\r\n\t\t});\r\n\t};\r\n\r\n\twindow.CalendarPlusAdmin.misc.Calendar.prototype.saveCell = function (e, self) {\r\n\t\tlet cell = this;\r\n\t\tlet cellId = cell.data('cell-id');\r\n\r\n\t\tlet spinner = cell.find('.spinner');\r\n\t\tspinner.css('visibility', 'visible');\r\n\t\tspinner.show();\r\n\r\n\t\tlet from_time = cell.find('select[name=\"from-time-hour-' + cellId + '\"]').first().val() + ':' + cell.find('select[name=\"from-time-minute-' + cellId + '\"]').first().val();\r\n\t\tlet until_time = cell.find('select[name=\"to-time-hour-' + cellId + '\"]').first().val() + ':' + cell.find('select[name=\"to-time-minute-' + cellId + '\"]').first().val();\r\n\t\tlet from_am_pm = cell.find('select[name=\"from-time-am-pm-' + cellId + '\"]').first().val();\r\n\t\tlet until_am_pm = cell.find('select[name=\"to-time-am-pm-' + cellId + '\"]').first().val();\r\n\r\n\t\tlet data = {\r\n\t\t\tfrom_time: from_time,\r\n\t\t\tuntil_time: until_time,\r\n\t\t\tfrom_am_pm: from_am_pm,\r\n\t\t\tuntil_am_pm: until_am_pm,\r\n\t\t\tcell_id: cellId,\r\n\t\t\taction: 'calendarp_edit_calendar_cell'\r\n\t\t};\r\n\r\n\t\t$.ajax({\r\n\t\t\turl: CalendarPlusi18n.ajaxurl,\r\n\t\t\ttype: 'POST',\r\n\t\t\tdata: data\r\n\t\t})\r\n\t\t\t.always(function () {\r\n\t\t\t\tlocation.reload(true);\r\n\t\t\t});\r\n\r\n\t};\r\n\r\n\twindow.CalendarPlusAdmin.misc.Calendar.prototype.fillWeekCalendar = function () {\r\n\t\tlet events = $('#calendar-slots .event');\r\n\t\tevents.each(function (i) {\r\n\t\t\tlet el = $(this);\r\n\t\t\tlet dateClass = el.data('date');\r\n\t\t\tel.detach().appendTo($('#' + dateClass));\r\n\t\t});\r\n\t};\r\n\r\n})(jQuery);\r\n"],"sourceRoot":""}